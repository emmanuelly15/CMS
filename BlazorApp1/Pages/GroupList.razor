@page "/GroupList"
@using BlazorApp1.Data
@using CommonModels.Model
@inject GroupService GroupService
@inject NavigationManager NavigationManager

<style>
    body {
        background-color: #F9F6EE;
    }
</style>

<h1 style="font-family: Arial, Helvetica, sans-serif; color:#4682B4;">Group Management</h1>

<p>Add, edit, or delete a group.</p>

<div>
    <RadzenButton Text="Add New Group" Click=@OnButtonClick  Icon="add_circle_outline" ButtonStyle="ButtonStyle.Secondary" />
    <br>
    <br>

    @if (groups != null)
    {
        <table style="color: #000000" class="table-bordered" BorderColor="Black">
            <thead>
                <tr style="height: 30px; background-color:#336699 ; color:#FFFFFF ;">
                    <th>Group</th>
                    <th >Edit</th>
                    <th >Delete</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var p in groups)
                {
                    <tr>
                    <td>@p.Groups</td>
                    
                    <td>
                        <button class="btn btn-primary">
                                <span class="oi oi-pencil"></span>
                                <a style="color: #FFFFFF" href="/EditGroup/@p.Id">Edit</a>
                        </button></td> <td>
                        <button  class="btn btn-danger">
                                <span class="oi oi-trash"></span>
                                <a style="color: #FFFFFF" href="/DeleteGroup/@p.Id">Delete</a>
                        </button>
                    </td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>
@code {
    private Group[] groups;

    protected override async Task OnInitializedAsync()
    {
        groups = await GroupService.GetGroupsAsync();
    }
    void OnButtonClick()
    {
        NavigationManager.NavigateTo("GroupManagement");
    }

}